name: update readme wakatime charts

on:
  workflow_dispatch: # for manual workflow trigger
  schedule:
    - cron: '45 2 * * *'
    # https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html#tag_20_25_07
    # "*/5 * * * *" -> Runs every 5 minutes
    # "0 0 * * *"   -> Runs at: 0min 0hour =  0h UTC =  21h GMT-3
    # https://crontab.guru/#15_3,15_*_*_*

jobs:
  update-charts:
    name: Update wakatime stats charts
    runs-on: ubuntu-latest
    steps:
      - uses: dvjn/wakatime-charts@master
        with:
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}

  # update-readme:
  #   name: WakaReadme DevMetrics
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: athul/waka-readme@master
  #       with:
  #         WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
  #         SHOW_TITLE: true
  #         BLOCKS: ->
  #         TIME_RANGE: all_time
  #         SHOW_TIME: true
  #         SHOW_MASKED_TIME: true
